!function(e){function n(n){for(var r,i,u=n[0],c=n[1],s=n[2],f=0,p=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(n);p.length;)p.shift()();return o.push.apply(o,s||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,u=1;u<t.length;u++){var c=t[u];0!==a[c]&&(r=!1)}r&&(o.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},a={0:0},o=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var s=0;s<u.length;s++)n(u[s]);var l=c;o.push([125,1]),t()}({125:function(e,n,t){t(126),e.exports=t(312)},312:function(e,n,t){"use strict";t.r(n);var r=t(60),a=t(124),o=t.n(a);function i(e,n,t,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,a)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function u(e){i(o,r,a,u,c,"next",e)}function c(e){i(o,r,a,u,c,"throw",e)}u(void 0)}))}}var c=S(1),s=S(2),l=S(3),f=S(4),p=T("email-input"),d=T("phone-input"),m=T("submit"),v=T("restaurant-name"),h=T("error-message"),y=document.getElementsByClassName("screen");d.addEventListener("keyup",(function(e){if(8!==e.keyCode){var n=Object(r.b)(d.value,"US");d.value=new r.a("US").input(n.nationalNumber)}})),Array.from(y).forEach((function(e){e.style.height="".concat(window.innerHeight,"px")})),window.addEventListener("resize",(function(){Array.from(y).forEach((function(e){e.style.height="".concat(window.innerHeight,"px")}))}));var b,w=new URLSearchParams(window.location.search).get("restaurantId");function g(){return(g=u(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:return n=e.sent,e.next=6,n.json();case 6:t=e.sent,v.textContent=t.data.restaurant.name,document.title="Adapt: ".concat(t.data.restaurant.name),E(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),k("Failed to find restaurant");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function x(){return fetch("/restaurant/".concat(w),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})}function j(){return(j=u(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(r.b)(d.value,"US"),""!=P(p)||""!=P(d)){e.next=5;break}k("Please enter a phone number or email."),e.next=22;break;case 5:if(""===d.value||n.isValid()){e.next=9;break}k("Please enter a valid phone number"),e.next=22;break;case 9:if(""===p.value||o.a.validate(p.value)){e.next=13;break}k("Please enter a valid email"),e.next=22;break;case 13:return _(c),L(s),e.next=17,O();case 17:return t=e.sent,e.next=20,t.json();case 20:e.sent.success?(_(s),L(l)):(_(s),L(f));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){h.textContent=e,E(h),setTimeout((function(){!function(e){e.classList.add("fade-out-animation"),setTimeout((function(){_(e),e.classList.remove("fade-out-animation")}),500)}(h)}),5e3)}function O(){return fetch("/check_in",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:""==P(p)?" ":P(p),number:""==P(d)?" ":P(d),restaurantId:w})})}function P(e){return e.value}function S(e){return T("screen-".concat(e))}function T(e){return document.getElementById(e)}function E(e){L(e),e.classList.add("fade-in-animation"),setTimeout((function(){e.classList.remove("fade-in-animation")}),500)}function L(e){e.style.display="block"}function _(e){e.style.display="none"}null===w?k("Failed to find restaurant"):function(){g.apply(this,arguments)}(),b=function(){return j.apply(this,arguments)},m.addEventListener("click",b)}});